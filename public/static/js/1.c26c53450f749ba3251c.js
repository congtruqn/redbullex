webpackJsonp([1],{sVTW:function(t,a,s){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var e,n=s("Xxa5"),i=s.n(n),o=s("exGp"),r=s.n(o),c=s("woOf"),l=s.n(c),u=s("NYxO"),d=s("IRE/"),m=s.n(d),v=s("mtWM"),p=s.n(v),f=this,_={components:{},data:function(){return{amount:0,pending:!1,depositEvent:null,data:{contri:70,contriMax:150,min:.1,max:3,price:1/6e10,bnbTotal:141.3,sy:"MetaFloki",dateEnd:0,time:0},endTime:"00h : 00m : 00s"}},computed:Object(u.b)({user:function(t){return t.user},coinbase:function(t){return t.web3.coinbase},balance:function(t){if(null!==t.web3.web3Instance)return t.web3.web3Instance().fromWei(t.web3.balance,"ether")}}),created:function(){var t=this;this.load(this.getTime),setInterval(function(){t.endTime=t.getTime()},1e3)},methods:{getTime:function(){this.data.time-=1e3;var t=Math.ceil(this.data.time/1e3);function a(t){return Math.round(t)>t?Math.round(t)-1:Math.round(t)}return a(t/86400)+"d :"+a(t%86400/3600)+"h : "+a(t/60%60)+"m : "+a(t%60)+"s"},load:function(t){var a=this;p.a.post("/api/users/privateSaleInfo").then(function(s){s.data.data&&l()(a.data,s.data.data),t&&t()}).catch(function(a){t&&t()})},updateInfo:function(t,a){var s=this;p.a.post("/api/users/updateInfo",{wallet:this.$store.state.web3.coinbase,amount:t.amount,tx:t.tx}).then(function(t){s.$store.commit("setInfo",t.data.data),s.data.contri++,s.data.bnbTotal+=parseFloat(s.amount),a()}).catch(function(t){a()})},connectMetamask:(e=r()(i.a.mark(function t(a){var s,e;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,m()();case 3:if(!(s=t.sent)){t.next=9;break}return t.next=7,s.request({method:"eth_requestAccounts"});case 7:(e=t.sent)&&e[0]&&e[0]!=a.state.web3.coinbase&&window.location.reload();case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),console.error("Connect metamask fail:",t.t0);case 14:case"end":return t.stop()}},t,f,[[0,11]])})),function(t){return e.apply(this,arguments)}),clickDeposit:function(t){var a=this;this.$store.state.web3&&this.$store.state.web3.coinbase?56!=this.$store.state.web3.networkId||isNaN(this.amount)||this.amount<this.data.min||this.amount>this.data.max||(this.depositEvent=null,this.pending=!0,this.$store.state.vaultContractInstance().deposit({gas:3e5,value:this.$store.state.web3.web3Instance().toWei(this.amount,"ether"),from:this.$store.state.web3.coinbase},function(t,s){if(t)a.pending=!1;else{var e=a;!function t(a){setTimeout(function(){n==e.balance?t(a):a()},500)}(function(){e.updateInfo({tx:s,amount:e.amount},function(){e.pending=!1})});var n=a.balance}})):this.connectMetamask(this.$store)}}},h={render:function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"mt-4"},[t._m(0),t._v(" "),s("div",{staticClass:"mt-5"},[s("div",{staticClass:"card card-primary",staticStyle:{"max-width":"650px",margin:"auto",position:"relative"}},[this.data.time<0||t.user.amount&&t.user.tx?s("form",[s("div",{staticClass:"d-flex flex-column flex-sm-row justify-content-between w-100",staticStyle:{padding:"15px",color:"#0032a8"}},[s("h6",{staticClass:"m-sm-2"},[t._v("Buy "),s("strong",[t._v(t._s(t.data.sy)+" Coins")])]),t._v(" "),s("h6",{staticClass:"m-sm-2"},[s("strong",[s("span",{staticClass:"auction-number"},[t._v(t._s(t.data.contri)+"/"+t._s(t.data.contriMax))])]),t._v(" Contributors")])]),t._v(" "),s("div",{staticClass:"card-body text-center"},[this.data.time<0?s("p",{staticStyle:{"margin-bottom":"20px"}},[s("strong",{staticStyle:{color:"rgb(0, 50, 168)","font-size":"23px"}},[t._v("Private Sale completed")])]):t._e(),t._v(" "),s("p",[t._v(t._s(t.data.contri)+"/"+t._s(t.data.contriMax)+" Contributors")]),t._v(" "),s("p",[t._v(t._s(t.data.bnbTotal)+" BNB")]),t._v(" "),s("p",[t._v(t._s(Number(Math.round(t.data.bnbTotal/t.data.price)).toLocaleString("en"))+" "+t._s(t.data.sy))]),t._v(" "),s("p",[t._v("Your balance: "+t._s(Math.round((t.user.amount||0)/t.data.price))+" "+t._s(t.data.sy))])])]):s("form",[s("div",{staticClass:"d-flex flex-column flex-sm-row justify-content-between w-100",staticStyle:{padding:"15px",color:"#0032a8"}},[s("h6",{staticClass:"m-sm-2"},[t._v("Buy "),s("strong",[t._v(t._s(t.data.sy)+" Coins")])]),t._v(" "),s("h6",{staticClass:"m-sm-2"},[s("strong",[s("span",{staticClass:"auction-number"},[t._v(t._s(t.data.contri)+"/"+t._s(t.data.contriMax))])]),t._v(" Contributors")])]),t._v(" "),t._m(1),t._v(" "),s("h1",{staticClass:"text-center text-dark font-weight-bold countdown-timer mt-3 mb-1"},[t._v(t._s(t.endTime))]),t._v(" "),s("div",{staticClass:"progress-container w-100 p-sm-4"},[s("div",{staticClass:"progress-group"},[s("span",{staticClass:"progress-text"},[t._v("Visit Premium Page")]),t._v(" "),s("span",{staticClass:"float-right"},[s("b",[t._v(t._s(t.data.contri)+"/"+t._s(t.data.contriMax))]),t._v(" Contributors")]),t._v(" "),s("div",{staticClass:"progress progress-sm"},[s("div",{staticClass:"progress-bar bg-success",style:"width: "+100*t.data.contri/t.data.contriMax+"%"})])]),t._v(" "),s("div",{staticClass:"d-flex flex-column flex-sm-row justify-content-between"},[s("span",{staticClass:"d-flex flex-column-reverse flex-sm-column ico-sale-token-sold-amount"},[s("span",[t._v("Min:"),s("span",{staticClass:"value"},[t._v(" "+t._s(t.data.min))]),t._v(" BNB")])]),t._v(" "),s("span",{staticClass:"d-flex flex-column-reverse flex-sm-column ico-sale-token-for-sale-amount"},[s("span",[t._v("Max: "),s("span",{staticClass:"value"},[t._v(t._s(t.data.max)+" ")]),t._v(" BNB")])])]),t._v(" "),s("div",{staticClass:"d-flex flex-column flex-sm-row justify-content-between"},[s("span",{staticClass:"d-flex flex-column-reverse flex-sm-column ico-sale-token-sold-amount"},[s("span",[t._v("Balance: "),s("span",{staticClass:"value"},[t._v(t._s(t.balance))]),t._v(" BNB")])]),t._v(" "),s("span",{staticClass:"d-flex flex-column-reverse flex-sm-column ico-sale-token-for-sale-amount"},[s("span",[t._v("1BNB = "),s("span",{staticClass:"value"},[t._v(t._s(Number(1/t.data.price).toLocaleString("en"))+" ")]),t._v(" "+t._s(t.data.sy))])])])]),t._v(" "),s("div",{staticClass:"card-body text-right"},[s("div",{staticClass:"form-group"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.amount,expression:"amount"}],staticClass:"form-control",domProps:{value:t.amount},on:{input:function(a){a.target.composing||(t.amount=a.target.value)}}})]),t._v(" "),s("div",{staticClass:"form-group"},[s("button",{staticClass:"btn btn-primary",staticStyle:{width:"100%"},attrs:{type:"submit"},on:{click:t.clickDeposit}},[t._v("Buy")])])])]),t._v(" "),t.pending?s("div",{staticClass:"overlay d-flex justify-content-center align-items-center"},[s("i",{staticClass:"fas fa-2x fa-sync fa-spin"})]):t._e()])])])},staticRenderFns:[function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"callout callout-warning"},[a("h5",[this._v("Meta Floki Private Round!")]),this._v(" "),a("p",[this._v("The private sale is open to the public, please enter the amount of BNB you want to buy. If you want to buy with odd value (Example: 1.5 or 2.6) please use ''.'' between numbers.")]),this._v(" "),a("p",[this._v("$MetaFloki will automatically transfer to your wallet right after the PinkSale IDO has sold out 24h.")])])},function(){var t=this.$createElement,a=this._self._c||t;return a("h3",{staticClass:"m-2 countdown-timer-heading text-center"},[a("span",{staticClass:"text-dark"},[this._v("Current private sale ")]),a("span",{staticClass:"text-primary font-weight-bold"},[this._v("closing in")])])}]},b=s("VU/8")(_,h,!1,null,null,null);a.default=b.exports}});
//# sourceMappingURL=1.c26c53450f749ba3251c.js.map